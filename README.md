# FastAPI Template with uv

This project is a minimal FastAPI application managed with the Astral `uv` toolchain. Use the steps below to recreate the setup, manage dependencies, and run the development server.

## Prerequisites
- Python 3.13+
- [`uv` CLI](https://docs.astral.sh/uv/)
- Optional: `git` for version control

## Project Setup
Follow these commands from your shell to bootstrap the project:

```bash
# 1. Create a new uv-based project
uv init my_project

# 2. Move the entrypoint into an app package for structure
mkdir app
mv main.py app/

# 3. Create and activate a virtual environment
uv venv my-venv
source my-venv/bin/activate

# 4. Add FastAPI (with recommended extras) to the project
uv add 'fastapi[standard]'
```

## Application Entry Point
`app/main.py` now defines a FastAPI app with a single `GET /` endpoint:

```python
from fastapi import FastAPI

app = FastAPI()

@app.get("/")
def read_root():
    return {"message": "Hello from my-template-project!"}
```

Running `python app/main.py` will start `uvicorn` thanks to the `__main__` guard, but the recommended way is to use `uv` directly (see below).

## Run the Development Server
Start the app with `uvicorn` using `uv`:

```bash
uv run uvicorn app.main:app --host 0.0.0.0 --port 8000
```

Navigate to `http://127.0.0.1:8000/docs` to explore the autogenerated Swagger UI.

## Version Control
Initialize the repository and configure the remote:

```bash
git init
git remote add origin <your-remote-url>
git branch -M main
```

Commit your work as usual:

```bash
git add .
git commit -m "Initial FastAPI project setup"
```

## Next Steps
- Add more routes or routers under `app/`.
- Configure settings via environment variables or a configuration module.
- Add tests (e.g., with `pytest`) and wire them into your workflow.

## Research & Report Assistant
The `app/agents/` package contains a LangGraph-based, multi-agent workflow featuring a supervisor, research lead, health, pharma, summary, and document specialists, plus a reporting agent. To use it:

1. Define environment variables in `.env`:
   ```bash
   OPENAI_API_KEY=sk-...
   TAVILY_API_KEY=tvly-...
   ```
2. Build the graph in Python:
   ```python
   from app.agents import create_research_assistant_graph, initialize_state

   graph = create_research_assistant_graph()
   state = initialize_state("Investigate recent advances in cardiology AI.")
   result = graph.invoke(state)
   ```
3. The graph orchestrates research, domain analysis, outlining, and report drafting automatically.
